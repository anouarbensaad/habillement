<!-- Front -->
<div class="container-fluid" ng-controller="produitController"
	style="background-color: #fff;">
	<!-- critere de recherche -->
	<div class="row" ng-show="displayMode != 'edit'">
		<div class="col-sm-12">
			<button class="btn btn-action2 pull-right"
				ng-click="AffectationProduit(produitCourante)">Ajouter</button>
		</div>
		<div class="col-sm-12">
			<div class="title-ajout">Crit&egrave;re de recherche</div>
			<div class="panel panel-primary">
				<div class="panel-body">
					<form class="form-horizontal" name="rechercheProduitForm"
						id="rechercheProduitForm">
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">R&eacute;f.Produit</span>
										<input class="form-control"
											ng-init="produitCourante.reference=''"
											ng-model="produitCourante.reference" />
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">D&eacute;signation</span>
										<input class="form-control"
											ng-init="produitCourante.designation=''"
											ng-model="produitCourante.designation" />
									</div>
								</div>

								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">SousFamille</span>
										<select ui-select2
											ng-model="produitCourante.sousfamille"
											ng-init="produitCourante.sousfamille =''"
											data-placeholder="..." style="width: 100%">
											<option
												ng-repeat="sousFamille in ListSousFamilleProduitCache"
												value="{{sousFamille.id}}">{{sousFamille.designation}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Partie
											Interess&eacute;e</span> 
											<select ui-select2
											ng-model="produitCourante.partieInteressee"
											ng-init="produitCourante.partieInteressee =''"
											data-placeholder="..." style="width: 100%">
											<option ng-repeat="pi in listePartieInteresseeCache"
												value="{{pi.id}}">{{pi.raisonSociale}}</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="row">

								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Prix
											Entre</span> <input type="number" step="any" class="form-control"
											ng-init="produitCourante.prix_inf=''"
											ng-model="produitCourante.prix_inf">
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Et</span>
										<input type="number" step="any" class="form-control"
											ng-init="produitCourante.prix_sup=''"
											ng-model="produitCourante.prix_sup">
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Site</span>
										<select ui-select2
											ng-model="produitCourante.site"
											ng-init="produitCourante.site =''"
											data-placeholder="..." style="width: 100%">
											<option value="">Tous</option>
											<option ng-repeat="site in listeSitePartieInteresseeCache"
												value="{{site.id}}">{{site.nom}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group">
										<span class="input-group-addon label1" id="basic-addon1">Etat</span>
										<select ui-select2
											ng-model="articleCourante.etat"
											ng-init="articleCourante.etat =''"
											data-placeholder="..." style="width: 100%">
											<option value="">Tous</option>
											<option>etat1</option>
											<option>etat2</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Fiche Besoin</span>
												<select ui-select2
													ng-model="produitCourante.ficheB"
													ng-init="produitCourante.ficheB =''"
													data-placeholder="..." style="width: 100%">
													<option value="">Tous</option>
													<option value=true >Oui</option>
													<option value=false >Non</option>
												</select>
											</div>
										</div>
								 </div>
							</div>

					</form>
					<div class="pull-right">
						<button class="btn-action btn"
						ng-click="downloadAllProduits(produitCourante)">G&eacute;n&eacute;rer</button>
						<button class="btn-action btn"
							ng-click="rechercheProduit(produitCourante)">Recherecher</button>
						<button class="btn-action btn" ng-click="annulerAjout()">Annuler</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- container d'ajout,  modification et de consultation d'un produit-->
	<div class="row" ng-show="displayMode == 'edit'">
		<div class="col-md-12">
			<div class="panel panel-primary">
				<div class="row line3">
					<div class="col-sm-4">
						<div class="pull-left">
							<div class="fileinput fileinput-new" data-provides="fileinput"
								style="padding-right: 20px">
								<div class="fileinput-preview thumbnail"
									data-trigger="fileinput" style="width: 120px; height: 100px;"></div>
								<div>
									<span class="btn btn-default btn-file btn-sm"
										style="margin-top: -35%; margin-left: 9%"><span
										class="fileinput-new">Ajouter Photo</span><input type="file"
										name="" class="hidden"></span>
								</div>
							</div>
						</div>
						<div
							style="margin-left: 40%; padding-top: 85px; color: #1f8597; font-weight: bold;">{{produitCourante.designation}}</div>
					</div>
					<div class="col-sm-8">
						<div style="padding-top: 68px" class="pull-right">
							<button class="btn btn-action"
								ng-click="sauvegarderAjout(produitCourante)"
								ng-disabled="!creationProduitForm.$valid || referenceExistError">Enregistrer</button>
							<button class="btn btn-action" ng-click="">Generer</button>
							<button class="btn btn-action" ng-click="">Dupliquer</button>
							<button class="btn btn-action" ng-click="annulerAjout()">Retour</button>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-1">
						<button class="btn btn-action2 pull-right" ng-click=""
							style="margin-top: 10px">Produit</button>
						<button class="btn btn-action pull-right" ng-click=""
							style="margin-top: 10px">T</button>
					</div>
					<div class="col-sm-11"
						style="border: 1px #c2c2c0 solid; padding-top: 10px; padding-right: 10px; margin-left: -10px">
						<div class="title-ajout">Donn&eacute;es
							G&eacute;n&eacute;rales</div>
						<div class="panel-body" ng-show="displayMode == 'edit'">
							<form class="form-horizontal" id="creationProduitForm"
								name="creationProduitForm">
								<div class="row" ng-hide="hiddenNotif">
								<div class="col-sm-3">
									<span> 
									<alert type="danger"
											class="alert-danger"> <span
											ng-bind-html=" alertMsg | safe_html"></span>
										<a> <i class="fa fa-times close-notif" ng-click="closeNotif()"></i>
										</a> </alert>
									</span>
								</div>
							</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Ref&eacute;r&eacute;nce
													<i style="color: red">*</i>
												</span> <input type="text" class="form-control"
													ng-model="produitCourante.reference" required 
													ng-change="initReferenceErrorValue()">
											</div>
										</div>
										<div class="col-sm-6">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">D&eacute;signation
													<i style="color: red">*</i>
												</span> <input type="text" class="form-control"
													ng-model="produitCourante.designation" required>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">SousFamille<i
													style="color: red">*</i></span> <select ui-select2
													ng-model="produitCourante.sousFamilleId"
													data-placeholder="..." style="width: 100%">
													<optgroup ng-repeat="famille in ListFamilleProduitCache"
														label="famille : {{famille.designation}}">
														<option ng-repeat="sousFamille in famille.sousFamille"
															value="{{sousFamille.id}}">{{sousFamille.designation}}</option>
													</optgroup>
												</select>
											</div>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Partie
													Int&eacute;r&eacute;sse</span>
												<select ui-select2
											ng-model="produitCourante.partieIntersseId"
											ng-init="produitCourante.partieIntersseId =''"
											data-placeholder="..." style="width: 100%">
											<option ng-repeat="pi in listePartieInteresseeCache"
												value="{{pi.id}}">{{pi.raisonSociale}}</option>
										</select>
											</div>
										</div>
										<div class="col-sm-3" ng-controller="DateIntroCtrl">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Date
													Intro <i style="color: red">*</i></span><input type="text" class="form-control datepicker"
													datepicker-popup="{{format}}" max-date="{{maxToDay}}"
													ng-model="produitCourante.dateIntroduction"
													is-open="opened" datepicker-options="dateOptions"
													date-="enabled(date, mode)" ng-required="true"
													close-text="Close" />
												<div class="input-group-btn">
													<button type="button" class="btn btn-default"
														ng-click="open($event)">
														<i class="glyphicon glyphicon-calendar"></i>
													</button>
												</div>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Site</span>
												<select ui-select2
													ng-model="produitCourante.siteId"
													style="width: 100%">
													<option ng-repeat="site in listeSitePartieInteresseeCache"
														value="{{site.id}}">{{site.nom}}</option>
												</select>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Etat</span>
												<input type="text" class="form-control"
													ng-model="produitCourante.etat"
													placeholder="Disabled Input" disabled>
											</div>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Prix</span>
												<input type="text" class="form-control"
													ng-model="produitCourante.prixUnitaire">
											</div>
										</div>
										<div class="col-sm-6">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Observations</span>
												<input type="text" class="form-control"
													ng-model="produitCourante.observations">
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group input-group-sm">
												<span class="input-group-addon label1" id="basic-addon1">Prix Major&eacute;</span>
												<input type="text" class="form-control"
													ng-model="produitCourante.prixMajore">
											</div>
										</div>
									</div>
								</div>
							</form>
						</div>
						<div class="title-ajout">
							Phases De Fabrication
							<!-- Calcul Prix -->
						</div>
						<div class="panel-body" ng-show="displayMode == 'edit'">
							<div class="form-group">
								<div class="row">
									<div class="panel panel-primary">
										<!-- <table class="table table-bordered table-condensed table-head-color">
											<tr style="font-weight: bold">
												<td class="visible" style="width: 10%">Id</td>
												<td style="width: 20%">M&eacute;thode</td>
												<td style="width: 20%">Unit&eacute;</td>
												<td style="width: 15%">Prix de vente</td>
												<td style="width: 15%">Prix de revient</td>
												<td style="width: 20%">Devise</td>
												<td style="width: 10%"></td>
											</tr>
											<tr ng-repeat="detailsPrix in listeDetailsPrix">
												<td class="visible">
													editable representat (text with validation) <span
													editable-text="detailPrix.id" e-name="id" e-form="rowform"
													e-required> {{ detailPrix.id || 'empty' }} </span>
												</td>
												<td>
													editable representat (text with validation) <span
													editable-select="detailsPrix.methode"
													e-ng-options="s.value as s.text for s in listMethodes"
													e-form="rowform" e-required> {{
														showMethode(detailsPrix.methode) }} </span>
												</td>
												<td>
													editable status (select-local) <span
													editable-text="detailsPrix.unite" e-name="unite"
													e-form="rowform"> {{ detailsPrix.unity || 'empty' }}
												</span>
												</td>
												<td>
													editable status (select-local) <span
													editable-text="detailsPrix.prixVente" e-name="prixVente"
													e-form="rowform"> {{ detailsPrix.prixVente ||
														'empty' }} </span>
												</td>
												<td>
													editable group (select-remote) <span
													editable-text="detailsPrix.quantiteInferieur"
													e-name="quantiteInferieur" e-form="rowform" e-required>
														{{ detailsPrix.quantiteInferieur || 'empty' }} </span>
												</td>
												<td>
													editable representat (text with validation) <span
													editable-text="detailsPrix.quantiteSuperieur"
													e-name="quantiteInferieur" e-form="rowform" e-required>
														{{ detailsPrix.quantiteSuperieur || 'empty' }} </span>
												</td>
												<td style="white-space: nowrap">
													form
													<form editable-form name="rowform"
														onbeforesave="saveDetailsPrix($data, detailPrix.id)"
														ng-show="rowform.$visible"
														class="form-buttons form-inline"
														shown="DetailsPrixInserree == detailsPrix">
														<button type="submit" ng-disabled="rowform.$waiting"
															class="btn btn-sm glyphicon glyphicon-save"
															aria-hidden="true"></button>
														<button type="button" ng-disabled="rowform.$waiting"
															ng-click="cancelAddProduit(rowform, $index, detailPrix.id, detailsPrix.methode, listeDetailsPrix )"
															class="btn btn-sm glyphicon glyphicon-remove"></button>
													</form>
													<div class="buttons" ng-show="!rowform.$visible">
														<button data-nodrag
															class="btn btn-sm glyphicon glyphicon-pencil"
															ng-click="rowform.$show();showBC()"></button>
														<button data-nodrag
															class="btn btn-sm glyphicon glyphicon-trash"
															ng-click="removeDetailsPrix($index)"></button>
													</div>
												</td>
											</tr>
										</table>
										<button class="btn btn-action pull-right spacer2"
											ng-click="ajoutDetailsPrix()">Ajouter</button> -->

										<table
											class="table table-bordered table-condensed table-head-color">
											<thead>
												<tr>
													<th class="hidden" style="width: 10%">Id</th>
													<th style="width: 10%">Ordre</th>
													<th style="width: 20%">Phase</th>
													<th style="width: 20%">Prix</th>
													<th style="width: 20%">Devise</th>
													<th style="width: 20%">Variante</th>
													<th style="width: 10%"></th>
												</tr>
											</thead>
											<tr ng-repeat="phaseProduit in listePhaseProduit">
												<!-- | orderBy:'ordre' -->
												<td class="hidden">
													<!-- editable representat (text with validation) --> <span
													editable-text="phaseProduit.id" e-name="id"
													e-form="rowform" e-required> {{ phaseProduit.id ||
														'empty' }} </span>
												</td>
												<td><span editable-text="phaseProduit.ordre"
													e-name="ordre" e-form="rowform" e-required>
														{{phaseProduit.ordre|| 'empty' }} </span></td>
												<td>
													<!-- editable representat (text with validation) --> <span
													editable-select="phaseProduit.eb_phase_id"
													e-ng-options="s.id as s.designation for s in listePhaseProduitCache"
													e-name="eb_phase_id" e-form="rowform"> {{
														showStatusPhase(phaseProduit.eb_phase_id) }} </span>
												</td>
												<td>
													<!-- editable representat (text with validation) --> <span
													editable-text="phaseProduit.prix" e-name="prix"
													e-form="rowform" e-required> {{ phaseProduit.prix ||
														'empty' }} </span>
												</td>
												<td>
													<!-- editable representat (text with validation) --> <span
													editable-select="phaseProduit.devise"
													e-ng-options="s.id as s.designation for s in ListDeviseCache"
													e-name="devise" e-form="rowform">{{showStatusDevise(phaseProduit.devise)}}
												</span>
												</td>
												<td>
													<!-- editable representat (text with validation) --> <span
													editable-text="phaseProduit.variante" e-name="variante"
													e-form="rowform" e-required> {{
														phaseProduit.variante || 'empty' }} </span>
												</td>
												<td style="white-space: nowrap">
													<!-- form -->
													<form editable-form name="rowform"
														onbeforesave="savePhase($data, phaseProduit.id)"
														ng-show="rowform.$visible"
														class="form-buttons form-inline"
														shown="PhaseInserree == phaseProduit">
														<button type="submit" ng-disabled="rowform.$waiting"
															class="btn btn-sm glyphicon glyphicon-save"
															aria-hidden="true"></button>
														<button type="button" ng-disabled="rowform.$waiting"
															ng-click="cancelAddProduit(rowform, $index, phaseProduit.id, phaseProduit.eb_phase_id, listePhaseProduit )"
															class="btn btn-sm glyphicon glyphicon-remove"></button>
													</form>
													<div class="buttons" ng-show="!rowform.$visible">
														<button data-nodrag
															class="btn btn-sm glyphicon glyphicon-pencil"
															ng-click="rowform.$show();showBC()"></button>
														<button data-nodrag
															class="btn btn-sm glyphicon glyphicon-trash"
															ng-click="removePhase($index)"></button>
													</div>
												</td>
											</tr>
										</table>
										<button class="btn btn-action pull-right spacer2"
											ng-click="ajoutPhase()">Ajouter</button>

									</div>
								</div>

							</div>
							<!-- <div class="form-group">
										<div class="row" align="right"></div>
										<div class="btn-action2 pull-right" 
											style="width: 150px; padding: 5px;height:30px">
											Prix Fabr. <span ng-model="prixFab">{{prixFab}}</span>
										</div>
							</div> -->
							<!-- <div class="title-ajout">Phases De Fabrication</div>
							<div class="panel-body" ng-show="displayMode == 'edit'">
								<div class="panel panel-primary">
									<table class="table table-bordered table-condensed table-head-color">
										<tr style="font-weight: bold">
											<td class="hidden" style="width: 10%">Id</td>
											<td style="width: 10%">Ordre</td>
											<td style="width: 20%">Phase</td>
											<td style="width: 20%">Prix</td>
											<td style="width: 20%">Devise</td>
											<td style="width: 20%">Variante</td>
											<td style="width: 10%"></td>
										</tr>
										<tr ng-repeat="phaseProduit in listePhaseProduit"> | orderBy:'ordre'
											<td class="hidden">
												editable representat (text with validation) <span
												editable-text="phaseProduit.id" e-name="id" e-form="rowform"
												e-required> {{ phaseProduit.id || 'empty' }} </span>
											</td>
											<td>
											<span
												editable-text="phaseProduit.ordre" e-name="ordre" e-form="rowform"
												e-required> *{{phaseProduit.ordre|| 'empty' }} </span>
											</td>
											<td>
												editable representat (text with validation)
												{{phaseProduit.eb_phase_id}}
												<span editable-select="phaseProduit.eb_phase_id"
												e-ng-options="s.id as s.designation for s in listePhaseProduitCache"
												e-name="eb_phase_id" e-form="rowform"> {{
													showStatusPhase(phaseProduit.eb_phase_id) }} </span>
											</td>
											<td>
												editable representat (text with validation) <span
												editable-text="phaseProduit.prix" e-name="prix"
												e-form="rowform" e-required> {{ phaseProduit.prix ||
													'empty' }} </span>
											</td>
											<td>
												editable representat (text with validation) <span
												editable-select="phaseProduit.devise"
												e-ng-options="s.id as s.designation for s in ListDeviseCache"
												e-name="devise" e-form="rowform">{{showStatusDevise(phaseProduit.devise)}}
											</span>
											</td>
											<td>
												editable representat (text with validation) <span
												editable-text="phaseProduit.variante" e-name="variante"
												e-form="rowform" e-required> {{ phaseProduit.variante
													|| 'empty' }} </span>
											</td>
											<td style="white-space: nowrap">
												form
												<form editable-form name="rowform"
													onbeforesave="savePhase($data, phaseProduit.id)"
													ng-show="rowform.$visible" class="form-buttons form-inline"
													shown="PhaseInserree == phaseProduit">
													<button type="submit" ng-disabled="rowform.$waiting"
														class="btn btn-sm glyphicon glyphicon-save"
														aria-hidden="true"></button>
													<button type="button" ng-disabled="rowform.$waiting"
														ng-click="cancelAddProduit(rowform, $index, phaseProduit.id, phaseProduit.eb_phase_id, listePhaseProduit )"
														class="btn btn-sm glyphicon glyphicon-remove"></button>
												</form>
												<div class="buttons" ng-show="!rowform.$visible">
													<button data-nodrag
														class="btn btn-sm glyphicon glyphicon-pencil"
														ng-click="rowform.$show();showBC()"></button>
													<button data-nodrag
														class="btn btn-sm glyphicon glyphicon-trash"
														ng-click="removePhase($index)"></button>
												</div>
											</td>
										</tr>
										
									</table>
									<button class="btn btn-action pull-right spacer2"
										ng-click="ajoutPhase()">Ajouter</button>
								</div>
							</div> -->
							<!-- 							colorIdRemoved: {{colorIdRemoved}}<br>  -->
							<!-- 							listeCouleurProduitCache: {{listeCouleurProduitCache}}<br> -->
							<!-- 							listeCouleurProduit: {{listeCouleurProduit}} -->

							<div class="row">
								<div class="col-sm-6">
								<!-- modification -->
								<div class="title-ajout"  ng-hide="creation">Couleur</div>
									<div class="panel panel-body"  ng-hide="creation">
										<div class="form-group">
											<div class="row">
												<div panel-class="panel panel-primary"
													data-heading="Editable Rows">
													<table
														class="table table-bordered table-condensed table-head-color">
														<thead>
															<tr>
																<th class="hidden" style="width: 10%">Id</th>
																<th style="width: 70%">Couleur</th>
																<th style="width: 20%"></th>
															</tr>
														</thead>
														<tr ng-repeat="couleur in listeCouleurProduit">
															<td class="hidden">
																<!-- editable status (select-local) --> <span
																editable-text="couleur.id" e-name="id" e-form="rowform">
																	{{ couleur.id || 'empty' }} idCouleur :
																	{{couleur.ebCouleurId}} </span>
															</td>
															<td>
																<select ui-select2 ng-model="listeCouleurProduit[$index].ebCouleurId"
																	data-placeholder="..." style="width: 100%"
																	ng-change="refreshlisteCouleurProduitCache(listeCouleurProduit[$index].ebCouleurId)">
																	<option ng-repeat="color in listeCouleurProduitCache | filter :{isUsed:false}" value="{{color.id}}">{{color.designation}}</option>
																</select>
																<!-- editable status (select-local) -->  <!-- <span
																editable-select="couleur.ebCouleurId"
																e-ng-options="s.id as s.designation for s in listeCouleurProduitCache| filter:filterColor()"
																e-name="ebCouleurId" e-form="rowform"
																e-ng-change="changeColor(listeCouleurProduit[$index].ebCouleurId, $index)"> 
																{{refreshColor(listeCouleurProduit[$index].ebCouleurId)}}
																{{showStatusCouleur(couleur.ebCouleurId) }} </span>  -->
															</td>
															<td style="white-space: nowrap">
																<!-- form -->
																<form editable-form name="rowform"
																	onbeforesave="saveCouleur($data, couleur.id)"
																	ng-show="rowform.$visible"
																	class="form-buttons form-inline"
																	shown="colorInserreeModification == listeCouleurProduit">
																	
																</form>
																<div class="buttons" ng-show="!rowform.$visible">
																	
																	<button data-nodrag
																		class="btn btn-sm glyphicon glyphicon-trash"
																		ng-click="removeCouleur($index)"></button>
																</div>
															</td>
														</tr>
													</table>
													<button class="btn btn-action pull-right spacer2"
														ng-click="ajoutCouleur(2)">Ajouter</button>
												</div>
											</div>
										</div>
									</div>
								<!-- creation -->
									<div class="title-ajout" ng-show="creation">Couleur</div>
									<div class="panel panel-body" ng-show="creation">
										<div class="form-group">
											<div class="row">
												<div panel-class="panel panel-primary"
													data-heading="Editable Rows">
													<table
														class="table table-bordered table-condensed table-head-color">
														<thead>
															<tr>
																	
																<th style="width: 70%">Couleur</th>
																<th style="width: 20%"></th>
															</tr>
														</thead>
														<tr ng-repeat="couleur in listeCouleurProduit">
															
															<td>
																<select ui-select2 ng-model="listeCouleurProduit[$index].idEbCouleur"
																	data-placeholder="..." style="width: 100%"
																	ng-change="refreshlisteCouleurProduitCache(listeCouleurProduit[$index].idEbCouleur)">
																	<option ng-repeat="color in listeCouleurProduitCache | filter :{isUsed:false}" value="{{color.id}}">{{color.designation}}</option>
																</select>

															</td>
															<td style="white-space: nowrap">
																<!-- form -->
																<form editable-form name="rowform"
																	class="form-buttons form-inline"></form>
																<div class="buttons" ng-show="!rowform.$visible">
																	
																	<button data-nodrag
																		class="btn btn-sm glyphicon glyphicon-trash"
																		ng-click="removeCouleur($index,listeCouleurProduit[$index].idEbCouleur)"></button>
																</div>
															</td>
														</tr>
													</table>
													<button class="btn btn-action pull-right spacer2"
														ng-click="ajoutCouleur(1)">Ajouter</button>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="col-sm-6">
									<div class="title-ajout">Taille</div>
									<div class="panel-body">
										<div class="row">
											<div class="col-sm-9 spacer">
												<div class="input-group">
													<span class="input-group-addon label1" id="basic-addon1">Standard
														Taille</span> <select class="form-control" ng-model="produitCourante.idStandard">
														<option ng-repeat="tailleDrop in ListStandardTailleCache"
															value="{{tailleDrop.id}}">{{tailleDrop.designation}}</option>
													</select>
												</div>
											</div>
										</div>
										<div class="form-group">
											<div class="row">
												<div class="panel panel-primary">
													<table
														class="table table-bordered table-condensed table-head-color">
														<thead>
															<tr>
																<th style="width: 10%" class="hidden">Id</th>
																<th style="width: 10%" class="hidden">Ordre</th>
																<th style="width: 70%">Taille</th>
																<th style="width: 10%"></th>
															</tr>
														</thead>
														<tr ng-repeat="taille in listeTailleProduit">
															<td class="hidden">
																<!-- editable status (select-local) --> <span
																editable-text="taille.id" e-name="id" e-form="rowform">
																	{{ taille.id || 'empty' }} idtaille :
																	{{taille.ebTailleId}} </span>
															</td>
															<td class="hidden">
																<!-- editable status (select-local) --> <span
																editable-text="taille.ordre" e-name="id" e-form="rowform">
																	{{ taille.ordre || 'empty' }}</span>
															</td>
															<td>
																<!-- editable status (select-local) --> <span
																editable-select="taille.ebTailleId"
																e-ng-options="s.id as s.designation for s in listeTailleProduitCache | filter:{ eb_sttaille_id: produitCourante.idStandard }"
																e-name="ebTailleId" e-form="rowform"> {{
																	showStatusTaille(taille.ebTailleId) }} </span>
															</td>
															<td style="white-space: nowrap">
																<!-- form -->
																<form editable-form name="rowform"
																	onbeforesave="saveTailleProduit($data, taille.id)"
																	ng-show="rowform.$visible"
																	class="form-buttons form-inline"
																	shown="TailleProduitInserree == taille">
																	<button type="submit" ng-disabled="rowform.$waiting"
																		class="btn btn-sm glyphicon glyphicon-save"
																		aria-hidden="true"></button>
																	<button type="button" ng-disabled="rowform.$waiting"
																		ng-click="cancelAddProduit(rowform, $index, taille.id, taille.ebTailleId, listeTailleProduit )"
																		class="btn btn-sm glyphicon glyphicon-remove"></button>
																</form>
																<div class="buttons" ng-show="!rowform.$visible">
																	<button data-nodrag
																		class="btn btn-sm glyphicon glyphicon-pencil"
																		ng-click="rowform.$show();showBC()"></button>
																	<button data-nodrag
																		class="btn btn-sm glyphicon glyphicon-trash"
																		ng-click="removeTailleProduit ($index)"></button>
																</div>
															</td>
														</tr>
													</table>
													<button class="btn btn-action pull-right spacer2"
														ng-click="ajoutTailleProduit()">Ajouter</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<!-- Documents -->
							<div class="title-ajout">Documents</div>
							<div class="panel-body" ng-show="displayMode == 'edit'">
								<div class="form-group">
									<div class="row">
										<div class="panel panel-primary">
											<table
												class="table table-bordered table-condensed table-head-color">
												<thead>
													<tr>
														<th class="hidden" style="width: 10%">Id</th>
														<th style="width: 30%">Type Document</th>
														<th style="width: 40%">Document</th>
														<th style="width: 20%"></th>
													</tr>
												</thead>
												<tbody>
													<tr ng-repeat="documentProduit in listeDocumentProduit">
														<td class="hidden">
															<!-- editable documentProduit (text with validation) -->
															<span editable-text="documentProduit.id" e-name="id"
															e-form="rowform" e-required> {{ documentProduit.id
																|| 'empty' }} </span>
														</td>
														<td>
															<!-- editable group (select-remote) --> <span
															editable-select="documentProduit.typeDocumentId"
															e-ng-options="s.id as s.designation for s in ListTypeDocumentCache"
															e-name="idTypeDocPI" e-form="rowform">
																{{showStatus(documentProduit.typeDocumentId) }} </span>
														</td>
														<td ng-controller="UploadCtrl">
															<!-- Upload Document File -->
															<div class="form-group">
																<div class="col-sm-12">
																	<div class="fileinput fileinput-new"
																		data-provides="fileinput">
																		<input class="hidden" type="text" ng-model="name" />
																		<span class="btn btn-file btn-sm"
																			style="background: #e6e9ee"
																			ng-show="!isUploaded && rowform.$visible"> <span
																			class="fileinput-new">Selectionner fichier</span> <input
																			type="file" class="custom-file-input"
																			file-model="myFile"> <span href="#"
																			class="close fileinput-exists pull-right"
																			style="float: none; padding: 0"
																			data-dismiss="fileinput"
																			ng-show="!isUploaded && rowform.$visible">x</span>
																		</span> <span class="fileinput-filename"
																			ng-model="documentProduit.path" e-name="path"
																			e-form="rowform" e-required>{{documentProduit.path}}</span>
																	</div>
																	<a class="btn btn-danger btn-sm pull-right"
																		style="margin-right: 10px; cursor: pointer"
																		ng-click="downloadFile(documentProduit.uidDocument, 'PRODUIT')"><span
																		class="glyphicon glyphicon-cloud-download"></span></a> <a
																		ng-click="uploadFile('PRODUIT')"
																		ng-show="!isUploaded && rowform.$visible"
																		class="btn btn-info btn-sm fileinput-upload glyphicon glyphicon-cloud-upload pull-right">
																	</a>
																</div>
															</div> <input class="hidden"
															ng-model="documentProduit.uidDocument"
															e-name="uidDocument" e-form="rowform" e-required
															value="{{ documentProduit.uidDocument ||
															'empty' }} " />
														</td>
														<td style="white-space: nowrap">
															<!-- form -->
															<form editable-form name="rowform"
																onbeforesave="saveDocumentProduit($data, documentProduit.id)"
																ng-show="rowform.$visible"
																class="form-buttons form-inline"
																shown="DocumentProduitInserree == documentProduit">
																<button type="submit" ng-disabled="rowform.$waiting"
																	class="btn btn-sm glyphicon glyphicon-save"
																	aria-hidden="true"></button>
																<button type="button" ng-disabled="rowform.$waiting"
																	ng-click="cancelAddProduit(rowform, $index, documentProduit.id, documentProduit.typeDocumentId, listeDocumentProduit )"
																	class="btn btn-sm glyphicon glyphicon-remove"></button>
															</form>
															<div class="buttons" ng-show="!rowform.$visible">
																<button data-nodrag
																	class="btn btn-sm glyphicon glyphicon-pencil"
																	ng-click="rowform.$show()"></button>
																<button data-nodrag
																	class="btn btn-sm glyphicon glyphicon-trash"
																	ng-click="removeDocumentProduit($index)"></button>
															</div>
														</td>
													</tr>

												</tbody>
											</table>
											<button class="btn btn-action pull-right spacer2"
												ng-click="ajoutDocumentProduit()">Ajouter</button>
										</div>
									</div>
								</div>
							</div>
							
						 <!-- Developpement -->
                          <div class="title-ajout">Developpement 
                          <i class="fa fa-chevron-down clickable"
							style="margin-right: 5px;"  ng-click="isCollapsed = !isCollapsed"></i>
							</div> 
							<div class="panel-body" ng-show="displayMode == 'edit'">
									<div class="row">
										<div class="panel panel-primary">
											<form class="form-horizontal"
												id="creationPavetDeveloppementForm"
												name="creationPavetDeveloppementForm">
												<div class="form-group" collapse="isCollapsed">
													<div class="row">
														<div class="col-sm-1">
															<div class="input-group input-group-sm">
																
															</div>
														</div>
														<div class="col-sm-4">
															<div class="input-group input-group-sm">
																<span class="input-group-addon label1" id="basic-addon1">Tissu
																</span> <input type="text" class="form-control"
																	ng-model="produitCourante.tissu">
															</div>
														</div>
														<div class="col-sm-2">
															<div class="input-group input-group-sm">
																
															</div>
														</div>
														<div class="col-sm-4">
															<div class="input-group input-group-sm">
																<span class="input-group-addon label1" id="basic-addon1">D&eacute;signation
																</span> <input type="text" class="form-control"
																	ng-model="produitCourante.composition">
															</div>
														</div>
														<div class="col-sm-1">
															<div class="input-group input-group-sm">
																
															</div>
														</div>
													</div>
												</div>
												<div class="form-group" collapse="isCollapsed">
													<div class="row">
														<div class="col-sm-1">
															<div class="input-group input-group-sm">
																
															</div>
														</div>
														<div class="col-sm-10">
															<div class="input-group input-group-sm">
																<span class="input-group-addon label1" id="basic-addon1">Entretien
																</span> 
															</div>
															<textarea class="form-control" ng-model="produitCourante.entretien" ></textarea>
														</div>
														<div class="col-sm-1">
															<div class="input-group input-group-sm">
																
															</div>
														</div>
													</div>
												</div>
												<div class="form-group" collapse="isCollapsed">
													<div class="row">
														<div class="col-sm-1">
															<div class="input-group input-group-sm">
																
															</div>
														</div>
														<div class="col-sm-10">
															<div class="input-group input-group-sm">
																<span class="input-group-addon label1" id="basic-addon1">Observations
																	Dev. </span> 
															</div>
															<textarea class="form-control" ng-model="produitCourante.observationsDev"></textarea>
														</div>
														<div class="col-sm-1">
															<div class="input-group input-group-sm">
																
															</div>
														</div>
													</div>
												</div>
											</form>
										</div>
									</div>
								</div>







						 
							</div>
                    
						</div>
					</div>
				</div>
			</div>
		</div>
	
	
	<!-- container Grid-->
	<div class="row" ng-show="displayMode != 'edit'">
		<div class="col-md-12">
			<div class="title-ajout line">Liste des produits</div>
			<div class="row">
				<div class="input-icon right mb10 col-md-3 pull-right">
				<input placeholder="Taper un terme de recherche" type="text" ng-model="filterOptions.filterText"
					class="form-control">
				</div>
			</div>
			<div style="height: 500px;" ng-grid="gridOptions"></div>
		</div>
	</div>
	<!-- Popup de la suppression -->
	<div id="light" class="white_content">
		<pop-up type="delete-article"></pop-up>
	</div>
	<div id="fade" class="black_overlay"></div>
	<!-- Fin Popup de la suppression -->
</div>

