
<div class="container-fluid" ng-controller="SuiviCommandeCtrl">
	<div class="col-sm-12">
		<!-- Critéres de recherche -->
		<div class="panel-body " ng-show="displayMode != 'edit'">

			<!-- Critere de recherche -->
			<div class="title-ajout">Crit&eacute;res de recherche</div>
			<div class="panel panel-primary">
				<div class="panel-body">
					<form class="form-horizontal" id="creationStockForm"
						name="creationStockForm">
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">Client
										</span> <select class="form-control"
											ng-model="vOFCourant.phaseId">
											<option ng-repeat="client in listeClientCache" value="{{client.id}}" >{{client.designation}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">R&eacute;f.Produit
										</span> <select class="form-control"
											ng-model="t">
											<option ng-repeat="client in ListClientOFCache"
												value="{{client.id}}">{{client.abreviation}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">Produit
										</span> <select class="form-control"
											ng-model="t">
											<option ng-repeat="client in ListClientOFCache"
												value="{{client.id}}">{{client.abreviation}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">N&#176;
											OF </span> <input class="form-control"
											ng-model="vOFCourant.numero" />
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">Etat
											OF</span> <select class="form-control"
											ng-model="t">
											<option value="En Cours">En Cours</option>
											<option value="En Cours">Clotur&eacute;</option>
											<option value="En Cours">Bloqu&eacute;e</option>
											<option value="En Cours">Att.Export.</option>
											<option value="En Cours">Export&eacute;</option>
											<option value="En Cours">Factur&eacute;</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">Phase</span>
										<select ng-model="vOFCourant.phaseId" class="form-control">
										<option ng-repeat="phase in listePhaseCache" value="{{phase.id}}" >{{phase.designation}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3" ng-controller="DatepickerDemoController">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">Date
											E.Pr&eacute;v.Entre </span> <input type="text"
											class="form-control datepicker" datepicker-popup="{{format}}"
											ng-model="vOFCourant.dateDebut"
											is-open="opened" datepicker-options="dateOptions"
											date-="enabled(date, mode)" ng-required="true"
											close-text="Close" />
										<div class="input-group-btn">
											<button type="button" class="btn btn-default"
												ng-click="open($event)">
												<i class="glyphicon glyphicon-calendar"></i>
											</button>
										</div>
									</div>
								</div>
								<div class="col-sm-3" ng-controller="DatepickerDemoController">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">Et
										</span> <input type="text" class="form-control datepicker"
											datepicker-popup="{{format}}"
											ng-model="vOFCourant.dateFin"
											is-open="opened" datepicker-options="dateOptions"
											date-="enabled(date, mode)" ng-required="true"
											close-text="Close" />
										<div class="input-group-btn">
											<button type="button" class="btn btn-default"
												ng-click="open($event)">
												<i class="glyphicon glyphicon-calendar"></i>
											</button>
										</div>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">Etat
											Phase</span> <select class="form-control"
											ng-model="t">
											<option value="En Cours">En Cours</option>
											<option value="En Cours">Valid&eacute;e</option>
											<option value="En Cours">Clotur&eacute;e</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="row">
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">M&eacute;thode
										</span> <select class="form-control"
											ng-model="t">
											<option ng-repeat="client in ListClientOFCache"
												value="{{client.id}}">{{client.abreviation}}</option>
										</select>
									</div>
								</div>
								<div class="col-sm-3">
									<div class="input-group input-group-sm">
										<span class="input-group-addon label1" id="basic-addon1">Saisie
										</span> <select class="form-control"
											ng-model="t">
											<option value="Oui">Oui</option>
											<option value="Non">Non</option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</form>
					<div class="pull-right">
						<button class="btn-action btn">Generer</button>
						<button class="btn-action btn"
							ng-click="rechercherOf(vOFCourant)">Recherecher</button>
						<button class="btn-action btn" ng-click="annulerAjout()">Annuler</button>
					</div>
				</div>
			</div>
		</div>
		<!-- Suivi d'une OF selectionnée -->
		<div class="panel-body cadreERP" ng-show="displayMode == 'edit'">
			<div class="col-sm-12">
				<div class="pull-right">
					<button class="btn btn-action"
						ng-click="sauvegarderAjout(OFCourant)"
						ng-disabled="">Enregistrer</button>
					<button class="btn-action btn">G&eacute;n&eacute;rer</button>
					<button class="btn btn-action" ng-click="annulerAjout()">Retour</button>
				</div>
			</div>
			<div class="col-md-12">
				<div class="title-ajout">Donn&eacute;e OF</div>
				<div class="panel panel-primary">
					<div class="panel-body">
						<form name="creationSSForm">
							<div class="form-group">
								<div class="row">
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">N&#176;
												OF </span> <input type="text" class="form-control"
												ng-model="OFCourant.numero" disabled>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Client
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.clientId" disabled>
										</div>
									</div>
									<div class="col-sm-6">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">N&#176;
												BC </span> <input type="text" class="form-control"
												ng-model="OFCourant.bc" disabled>
										</div>
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="row">
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">R&eacute;f.Produit
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.ref" disabled>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Produit
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.produit" disabled>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Quantit&eacute;
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.quantite" disabled>
										</div>
									</div>
									<div class="col-sm-3" ng-controller="DatepickerDemoController">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Date
												Entr&eacute;e Prod.</span> <input type="text"
												class="form-control datepicker"
												datepicker-popup="{{format}}" ng-model="OFCourant.dateDebutreel"
												is-open="opened" datepicker-options="dateOptions"
												date-="enabled(date, mode)" ng-required="true"
												close-text="Close" />
											<div class="input-group-btn">
												<button type="button" class="btn btn-default"
													ng-click="open($event)">
													<i class="glyphicon glyphicon-calendar"></i>
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
				<div class="title-ajout">Donn&eacute;e Phase</div>
				<div class="panel panel-primary">
					<div class="panel-body">
						<form name="creationSSForm">
							<div class="form-group">
								<div class="row">
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Phase
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.phaseId" disabled>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">M&eacute;thode
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.methode" disabled>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Chaine
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.chaineId" disabled>
										</div>
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="row">
									<div class="col-sm-3" ng-controller="DatepickerDemoController">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Date
												Entr&eacute;e Prod.</span> <input type="text"
												class="form-control datepicker"
												datepicker-popup="{{format}}" ng-model="OFCourant.dateDebutreel"
												is-open="opened" datepicker-options="dateOptions"
												date-="enabled(date, mode)" ng-required="true"
												close-text="Close" />
											<div class="input-group-btn">
												<button type="button" class="btn btn-default"
													ng-click="open($event)">
													<i class="glyphicon glyphicon-calendar"></i>
												</button>
											</div>
										</div>
									</div>
									<div class="col-sm-3" ng-controller="DatepickerDemoController">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Date
												Sortie Prod.</span> <input type="text"
												class="form-control datepicker"
												datepicker-popup="{{format}}" ng-model="OFCourant.dateFinreel"
												is-open="opened" datepicker-options="dateOptions"
												date-="enabled(date, mode)" ng-required="true"
												close-text="Close" />
											<div class="input-group-btn">
												<button type="button" class="btn btn-default"
													ng-click="open($event)">
													<i class="glyphicon glyphicon-calendar"></i>
												</button>
											</div>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Pi&egrave;ces
												Ex&eacute;cut&eacute;es </span> <input type="text"
												class="form-control" ng-model="OFCourant.ref">
										</div>
									</div>
									<div class="col-sm-3">
										<div class="row LineHeight">
											<div class="col-sm-6">
												<input type="checkbox" class="form-control pull-left"
													style="width: 20px;" ng-model="OFCourant.validationResp">
												<span class="validationResp" id="basic-addon1">Validation.Resp.</span>
											</div>
											<div class="col-sm-6">
												<input type="checkbox" class="form-control pull-left"
													style="width: 20px;" ng-model="OFCourant.validationSup">
												<span class="validationResp" id="basic-addon1">Validation.Sup.Hi&eacute;r.</span>
											</div>
										</div>
									</div>

								</div>
							</div>
							<div class="form-group">
								<div class="row">
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Diff.Pr&eacute;c&eacute;dente
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.numero" disabled>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group input-group-sm">
											<span class="input-group-addon label1" id="basic-addon1">Diff.Totale
											</span> <input type="text" class="form-control"
												ng-model="OFCourant.numero" disabled>
										</div>
									</div>
								</div>
							</div>
<!-- 							<table -->
<!-- 								class="table table-bordered table-condensed table-head-color"> -->
<!-- 								<thead> -->
<!-- 									<tr> -->
<!-- 										<th></th> -->
<!-- 										<th ng-repeat="taille in listeTaille">{{taille.designation}}</th> -->
<!-- 									</tr> -->
<!-- 								</thead> -->
<!-- 								<tbody> -->
<!-- 									<tr ng-repeat="couleur in listeCouleur" class="taille"> -->
<!-- 										<td>{{couleur.designation}}</td> -->
<!-- 										<td ng-repeat="taille in listeTaille track by $index"> -->
<!-- 											<div class="row"> -->
<!-- 												<div class="col-sm-8"> -->
<!-- 													<input class="form-control" -->
<!-- 														ng-model="TC[$index][$parent.$index]" -->
<!-- 														ng-change="addNewElement(taille,couleur,$index,$parent.$index)" -->
<!-- 														id="TC{{taille.ebTailleId}}{{couleur.ebCouleurId}}"> -->
<!-- 												</div> -->
<!-- 												<div class="col-sm-2 LineHeight"> -->
<!-- 													<span class="label label-success">1</span> -->
<!-- 												</div> -->
<!-- 												<div class="col-sm-2 LineHeight"> -->
<!-- 													<span class="label label-danger">2</span> -->
<!-- 												</div> -->
<!-- 											</div> -->
<!-- 										</td> -->
<!-- 									</tr> -->
<!-- 								</tbody> -->
<!-- 							</table> -->
							<div class="row">
							<div class="col-sm-6">
							<table
								class="table table-bordered table-condensed table-head-color"
								id="tableElementBesoin">
								<thead>
									<tr>
										<th class="hidden"></th>
										<th>Cause</th>
										<th>Quantit&eacute;</th>
										<th></th>
									</tr>
								</thead>
<!-- 								<tbody> -->
<!-- 									<tr ng-repeat="caused in listeCause"> -->
<!-- 										<td class="hidden"><span -->
<!-- 											editable-text="caused.id" e-name="id" -->
<!-- 											e-form="rowform" e-required> {{caused.id || -->
<!-- 												'empty' }} </span></td> -->
<!-- 										<td><span editable-text="caused.cause" -->
<!-- 											e-name="cause" e-form="rowform" e-required> -->
<!-- 												{{caused.cause|| 'empty' }} </span></td> -->
<!-- 										<td><span editable-text="caused.quantite" -->
<!-- 											e-name="quantite" e-form="rowform" e-required> -->
<!-- 												{{caused.quantite || 'empty' }} </span></td> -->
<!-- 										<td style="white-space: nowrap"> -->
<!-- 											form -->
<!-- 											<form editable-form name="rowform" ng-show="rowform.$visible" -->
<!-- 												onbeforesave="saveCause($data,cause.id,$index)" -->
<!-- 											    class="form-buttons form-inline" -->
<!-- 												shown="CauseInserree == cause"> -->
<!-- 												<button type="submit" ng-disabled="rowform.$waiting" -->
<!-- 													class="btn btn-sm glyphicon glyphicon-save" -->
<!-- 													aria-hidden="true"></button> -->
<!-- 												<button type="button" ng-disabled="rowform.$waiting" -->
<!-- 													ng-click="" -->
<!-- 													class="btn btn-sm glyphicon glyphicon-remove"></button> -->
<!-- 											</form> -->
<!-- 											<div class="buttons" ng-show="!rowform.$visible"> -->
<!-- 												<button data-nodrag -->
<!-- 													class="btn btn-sm glyphicon glyphicon-pencil" -->
<!-- 													ng-click="rowform.$show()"></button> -->
<!-- 												<button data-nodrag -->
<!-- 													class="btn btn-sm glyphicon glyphicon-trash" -->
<!-- 													ng-click=""></button> -->
<!-- 											</div> -->
<!-- 										</td> -->
<!-- 									</tr> -->
<!-- 								</tbody> -->
							</table>
							<button class="btn btn-action pull-right spacer2"
									ng-click="ajoutCause()">+</button>
							</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<!-- Grid Suivi de Commande -->
		<div class="panel-body" ng-show="displayMode != 'edit'">
			<div class="col-md-12">
				<div class="title-ajout line">Liste des OF &agrave; suivre</div>
				<div style="height: 500px;" ng-grid="gridOptions"></div>
			</div>
		</div>
	</div>
</div>