<div class="container-fluid">
	<div class="row">
		<div class="col-sm-1">
			<ul class="nav-gproS">
				<li>
					<a style="margin-top: 10px" class="btn-block btn btn-action pull-right" href="#/GpaoMenu"
						ng-click="goPersonnel()">Personnel</a>
				</li>


				<li>
					<a style="margin-top: 10px" class="btn-block btn btn-action pull-right" href="#/GpaoMenu"
						ng-click="goFicheSuiveuse()">F.Suiveuse
					</a>
				</li>


				<li class="active">
					<a style="margin-top: 10px" class="btn-block btn btn-action pull-right" href="#/GpaoMenu"
						ng-click="goFeuilleSaisie()">Suivi/Poste</a>
				</li>

				<li>
					<a style="margin-top: 10px" class="btn-block btn btn-action pull-right" href="#/GpaoMenu"
						ng-click="goDetailsSuiviTR()">Suivi/PDA</a>
				</li>

				<li>
					<a style="margin-top: 10px" class="btn-block btn btn-action pull-right" href="#/GpaoMenu"
						ng-click="goDetailsSaisie()">Detail Saisie</a>
				</li>

				<li>
					<a style="margin-top: 10px" class="btn-block btn btn-action pull-right" href="#/GpaoMenu"
						ng-click="goAvancementOF()">Avct OF</a>
				</li>

				<li>
					<a style="margin-top: 10px" class="btn-block btn btn-action pull-right" href="#/GpaoMenu"
						ng-click="goDetailsSuivi()">D&eacute;tails Suivi</a>
				</li>

				<li>
					<a style="margin-top: 10px" class="btn-block btn btn-action pull-right" href="#/GpaoMenu"
						ng-click="goFeuilleSaisieJournalier()">SuiviGlobal</a>
				</li>
			</ul>
		</div>
		<!-- Front -->
		<div class="col-sm-11 cadreERP" ng-controller="FeuilleSaisieCtrl" style="background-color: #fff;">

			<!-- Critere de recherche -->
			<div class="row" ng-show="displayMode != 'edit'">
				<div class="col-sm-12">
					<button class="btn btn-action2 pull-right"
						ng-click="AffectationFeuilleSaisie(feuilleCourante)">Ajouter</button>
				</div>
				<div class="col-sm-12 ">
					<div class="title-ajout">Crit&eacute;res de recherche</div>
					<div class="panel panel-primary">
						<div class="panel-body collapse in">
							<form class="form-horizontal" name="rechercheFeuilleSaisieForm" id="rechercheFeuilleSaisieForm">
								<!-- 1ere ligne -->
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">
													Matricule</span> <input class="form-control" ng-model="feuilleCourante.matricule"
													ng-init="feuilleCourante.matricule =''" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">Chaine
												</span> <select ui-select2 ng-model="feuilleCourante.chaineId"
													ng-init="feuilleCourante.chaineId =''" data-placeholder="..." style="width: 100%">
													<OPTION value="">Toutes les Chaines</OPTION>
													<option ng-repeat="pi in listChaines" value="{{pi.id}}">{{pi.designation}}</option>
												</select>
											</div>
										</div>

										<div class="col-sm-3" ng-controller="DatepickerDemoController">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Date
													S. Entre</span> <input type="text" class="form-control datepicker"
													datepicker-popup="{{format}}" ng-init="feuilleCourante.dateSaisieMin =''"
													ng-model="feuilleCourante.dateSaisieMin" is-open="opened" datepicker-options="dateOptions"
													date-="enabled(date, mode)" ng-required="true" close-text="Close" />
												<div class="input-group-btn">
													<button type="button" class="btn1 btn-default" ng-click="open($event)">
														<i class="glyphicon glyphicon-calendar"></i>
													</button>
												</div>
											</div>
										</div>
										<div class="col-sm-3" ng-controller="DatepickerDemoController">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Et
												</span> <input type="text" class="form-control datepicker" datepicker-popup="{{format}}"
													ng-init="feuilleCourante.dateSaisieMax =''" ng-model="feuilleCourante.dateSaisieMax"
													is-open="opened" datepicker-options="dateOptions" date-="enabled(date, mode)"
													ng-required="true" close-text="Close" />
												<div class="input-group-btn">
													<button type="button" class="btn1 btn-default" ng-click="open($event)">
														<i class="glyphicon glyphicon-calendar"></i>
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>

								<!-- 2eme ligne -->
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">
													Rendement Min</span>
												<input type="text" class="form-control" ng-model="feuilleCourante.rendementMin"
													ng-init="feuilleCourante.rendementMin =''" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">Rendement Max
												</span>
												<input type="text" class="form-control" ng-model="feuilleCourante.rendementMax"
													ng-init="feuilleCourante.rendementMax =''" />
											</div>
										</div>

										<div class="col-sm-3">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">Activit&eacute; Min
												</span>
												<input type="text" class="form-control" ng-model="feuilleCourante.activiteMin"
													ng-init="feuilleCourante.activiteMin =''" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">Activit&eacute; Max
												</span>
												<input type="text" class="form-control" ng-model="feuilleCourante.activiteMax"
													ng-init="feuilleCourante.activiteMax =''" />
											</div>
										</div>

									</div>
								</div>

								<div class="form-group">
									<div class="row">

										<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">
													Periode</span> <input class="form-control" ng-model="feuilleCourante.periode"
													ng-init="feuilleCourante.periode =''" />
											</div>
										</div>
									</div>

								</div>

							</form>

							<div class="pull-right">
								<button class="btn btn-action generate"
									ng-click="GenerateAllOuProductivite(feuilleCourante,1)">G&eacute;n&eacute;rer</button>
								<button class="btn btn-action generate"
									ng-click="GenerateAllOuProductivite(feuilleCourante,2)">Productivit&eacute;</button>
								<button class="btn-action btn" ng-click="rechercheFeuilleSaisie(feuilleCourante)">Rechercher</button>
								<button class="btn-action btn" ng-click="annulerAjout()">Annuler</button>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- container d'ajout,  modification et de consultation d'une gamme -->
			<div class="row" ng-show="displayMode == 'edit'">
				<div class="col-sm-12">
					<div class="pull-right">
						<button class="btn btn-action generate">Generer</button>
						<button class="btn btn-action" ng-click="sauvegarderAjout(feuilleCourante)"
							ng-disabled=" !creationFeuilleSaisieForm.$valid || personnelDateChaineExistError">Enregistrer</button>
						<button class="btn btn-action" ng-click="annulerAjout()">Retour</button>
					</div>
				</div>
				<div class="col-md-12">
					<div class="panel panel-primary">
						<div class="title-ajout">Feuille de Saisie</div>
						<div class="panel-body" ng-show="displayMode == 'edit'">
							<form id="creationFeuilleSaisieForm" name="creationFeuilleSaisieForm">
								<div class="row" ng-hide="hiddenNotif">
									<div class="col-sm-3">
										<span>
											<alert type="danger" class="alert-danger"> <span ng-bind-html=" alertMsg | safe_html"></span>
												<a> <i class="fa fa-times close-notif" ng-click="closeNotif()"></i>
												</a> </alert>
										</span>
									</div>
								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3 addM">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">Matricule
												</span>
												<!-- creation -->
												<select ui-select2 ng-model="feuilleCourante.personnelId"
													ng-init="feuilleCourante.personnelId=''"
													ng-change="detailPersonnel(feuilleCourante.personnelId)" data-placeholder="..."
													style="width: 100%" required ng-change="initPersonnelDateChaineErrorValue()">
													<option ng-repeat="pi in listMatricule" value="{{pi.id}}">{{pi.matricule}}</option>
												</select>
											</div>
										</div>
										<div class="col-sm-3 updateM">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">Matricule
												</span> <select ui-select2 ng-model="feuilleCourante.personnelId"
													ng-init="feuilleCourante.personnelId=''" data-placeholder="..." style="width: 100%"
													ng-disabled="true" required>
													<option ng-selected="feuilleCourante.personnelMatricule"
														value="{{feuilleCourante.personnelId}}">
														{{feuilleCourante.personnelMatricule}}</option>
												</select>
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Nom
												</span> <input type="text" class="form-control" ng-model="personnelNom" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Prenom
												</span> <input type="text" class="form-control" ng-model="personnelPrenom" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">Chaine
												</span> <select ui-select2 ng-model="feuilleCourante.chaineId"
													ng-init="feuilleCourante.chaineId = ''" data-placeholder="..." style="width: 100%"
													ng-change="initPersonnelDateChaineErrorValue()">
													<OPTION value="">Tous les Chaines</OPTION>
													<option ng-repeat="pi in listChaines" value="{{pi.id}}">{{pi.designation}}</option>
												</select>
											</div>
										</div>
									</div>


								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">

											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Min
													Prod</span> <input type="number" step="any" class="form-control"
													ng-model="feuilleCourante.minProd" ng-disabled="!feuilleCourante.directe" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Min
													Aleas</span> <input type="number" class="form-control" ng-model="feuilleCourante.minAleas"
													ng-init="feuilleCourante.minAleas=0" required />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Rendement</span>
												<input class="form-control" readonly="readonly"
													value="{{feuilleCourante.rendement | prixFiltre}}" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Activit&eacute;</span>
												<input class="form-control" readonly="readonly"
													value="{{feuilleCourante.activite | prixFiltre}}" />
											</div>

										</div>

									</div>
								</div>

								<div class="form-group">
									<div class="row">
										<div class="col-sm-3">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">NB Paquet : </span>
												<input class="form-control" readonly="readonly" value="{{nbrColis}}" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">NB Piece : </span>
												<input class="form-control" value="{{feuilleCourante.pscProd}}"
													ng-disabled="!feuilleCourante.directe" />
											</div>
										</div>
										<div class="col-sm-3">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Min
													Presence</span> <input type="number" step="any" class="form-control"
													ng-init="feuilleCourante.minPresence=''" ng-model="feuilleCourante.minPresence" required />
											</div>
										</div>
										<div class="col-sm-3" ng-controller="DatepickerDemoController">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Date
													Saisie:</span> <input type="text" class="form-control datepicker"
													datepicker-popup="{{format}}" ng-init="feuilleCourante.dateSaisie = feuilleSaisieDate"
													ng-model="feuilleCourante.dateSaisie" is-open="opened" datepicker-options="dateOptions"
													date-="enabled(date, mode)" required close-text="Close"
													ng-change="initPersonnelDateChaineErrorValue()" />
												<div class="input-group-btn">
													<button type="button" class="btn1 btn-default" ng-click="open($event)">
														<i class="glyphicon glyphicon-calendar"></i>
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="row">

											<div class="col-sm-3">
												
														<div class="input-group ">
																<span class="input-group-addon label1" id="basic-addon1">Periode : </span>
																<input class="form-control" 	ng-model="feuilleCourante.periode"/>
															</div>
												</div>

										<div class="col-sm-3">

											<div class="input-group">
												<input type="checkbox" ng-model="feuilleCourante.directe" ng-checked="feuilleCourante.directe"
													class="ng-valid ng-dirty">
												Directe
											</div>
										</div>
									</div>
								</div>


								<!-- Partie Code � Barre -->
								<!--              ======================================================================================== -->
								<div class="form-group" ng-show="displayView == 'view1'">
									<div class="row">
										<!-- codeABare manuel -->
										<div class="col-sm-4">
											<div class="input-group">
												<span class="input-group-addon label1" id="basic-addon1">Code
													&aacute; Barre</span> <input class="form-control" ng-model="feuilleCourante.listBareCode"
													ng-init="feuilleCourante.listBareCode=''" name="feuilleCourante.listBareCode"
													ng-keyup="keyPress($event.keyCode, feuilleCourante.listBareCode)" />
											</div>
										</div>


										<!-- Valider -->
										<div class="col-sm-2">
											<div class="input-group ">
												<button type="button" class="btn btn-action" ng-click="validerCode(feuilleCourante)"
													ng-disabled="!modeValider">Valider</button>
											</div>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="row">
										<!-- view1:tableauCodeABarre -->
										<div class="col-sm-4" ng-show="displayView == 'view1'">
											<div class="input-group ">
												<span class="input-group-addon label1" id="basic-addon1">Code
													&aacute; Barre</span>
											</div>
											<table class="table table-bordered table-condensed table-head-color">
												<tbody ng-repeat="code in listCode track by $index ">
													<tr>
														<td>{{code}}</td>
													</tr>
												</tbody>
											</table>
											<!-- 									{{listCode}} -->
										</div>



									</div>
								</div>

								<!-- observations -->
								<div class="title-ajout">Observations</div>
								<div class="panel-body">
									<div class="form-group">
										<div class="col-sm-12">
											<textarea name="txtarea1" id="txtarea1" class="form-control"
												ng-model="feuilleCourante.observations"></textarea>
										</div>
									</div>
								</div>
								<!-- observations -->
							<!-- 	<div class="title-ajout">Periode</div>
								<div class="panel-body">
									<div class="form-group">
										<div class="col-sm-12">
											<textarea name="txtarea2" id="txtarea2" class="form-control"
												ng-model="feuilleCourante.periode"></textarea>
										</div>
									</div>
								</div> -->


							</form>
							<!-- 						 fin form -->

							<!------------------- Aleas ---------------------->

							<div class="title-ajout" ng-show="displayView != 'view1'">Aleas</div>
							<div class="panel-body" ng-show="displayView != 'view1'">
								<div class="form-group">
									<div class="row">
										<div class="panel panel-primary">
											<table class="table table-bordered table-condensed table-head-color">
												<thead>
													<tr>
														<!-- 													<th style="width: 10%">Id</th> -->
														<th style="width: 20%">Aleas</th>
														<th style="width: 20%">Duree</th>
														<th style="width: 20%">Observation</th>
														<th style="width: 10%"></th>
													</tr>
												</thead>
												<tbody>
													<tr ng-repeat="aleas in feuillesaisie.listElementAleas">
														<td class="hidden">
															<!-- 												  <td> -->
															<span editable-text="aleas.id" ng-model="aleas.id" e-form="rowform"> {{aleas.id}}
															</span>
														</td>
														<td>
															<select ui-select2 e-form="rowform" ng-model="aleas.aleasId" data-placeholder="Aleas"
																style="width: 100%" ng-disabled="!rowform.$visible"
																ng-options="aleasElt.id as aleasElt.designation for aleasElt in listAleas track by aleasElt.id">

																<!-- 														<option value="">Aleas</option> -->
																<!-- 														<option ng-repeat="aleasElt in listAleas" -->
																<!-- 															value="{{aleasElt.id}}">{{aleasElt.designation}}</option> -->
															</select>
														</td>
														<td>
															<span editable-text="aleas.duree" ng-model="aleas.duree" e-form="rowform"> {{aleas.duree}}
															</span>
														</td>
														<td>
															<span editable-text="aleas.observations" ng-model="aleas.observations" e-form="rowform">
																{{aleas.observations}} </span>
														</td>
														<td style="white-space: nowrap">
															<!-- form -->
															<form editable-form name="rowform" onbeforesave="saveAleas($data, aleas.id)"
																ng-show="rowform.$visible" class="form-buttons form-inline"
																shown="aleasInserree == aleas">

																<button type="submit" ng-disabled="!rowform.$valid"
																	class="btn btn-sm glyphicon glyphicon-save" aria-hidden="true">
																</button>

																<button type="button" ng-disabled="rowform.$waiting"
																	ng-click="cancelAjoutAleas(rowform, $index, aleas.id, aleas.aleasId ,aleas.duree, aleas.observations, listAleasIns )"
																	class="btn btn-sm glyphicon glyphicon-remove">
																</button>
															</form>
															<div class="buttons" ng-show="!rowform.$visible">
																<button data-nodrag class="btn btn-sm glyphicon glyphicon-pencil"
																	ng-click="rowform.$show()">
																</button>
																<button data-nodrag class="btn btn-sm glyphicon glyphicon-trash"
																	ng-click="removeAleas($index)">
																</button>
															</div>
														</td>
													</tr>
												</tbody>
											</table>
											<button class="btn btn-action pull-right spacer2" ng-click="ajoutAleas()">Ajouter</button>
										</div>
									</div>
								</div>
							</div>

							<!-- fin Liste Aleas -->

							<!-- ======================================================================== -->

							<!-- view2: tableauComplet -->
							<div class="title-ajout" ng-show="displayView != 'view1'">Liste des Etiquettes</div>
							<div class="panel-body" ng-show="displayView != 'view1'">

								<div class="form-group">
									<div class="row">
										<div class="panel panel-primary">
											<table class="table table-bordered table-condensed table-head-color">
												<thead>
													<tr>
														<th style="width: 15%" class="tableWidth">R&eacute;f.Rou.(code &aacute; barre)</th>
														<th style="width: 15%" class="tableWidth">Paquet</th>
														<th style="width: 15%" class="tableWidth">Operation</th>
														<th style="width: 15%" class="tableWidth">Temps</th>
														<th style="width: 15%" class="tableWidth">OF</th>
														<th style="width: 10%">Quantite</th>
														<th style="width: 15%">Minutage</th>
														<th style="width: 10%"></th>
													</tr>
												</thead>
												<tbody>
													<tr ng-repeat="rouleauFini in listeFeuilleSaisieFini">
														<td>{{rouleauFini.codeBarre}}</td>
														<td>{{rouleauFini.paquetNum}}</td>
														<td>{{rouleauFini.operationDesignation}}</td>
														<td>{{rouleauFini.temps}}</td>
														<td>{{rouleauFini.ordreFabricationNumero}}</td>
														<td>{{rouleauFini.quantite}}</td>
														<td>{{rouleauFini.minutage}}</td>
														<td>
															<div class="buttons" ng-show="!rowform.$visible">
																<!-- 														<button data-nodrag -->
																<!-- 															class="btn btn-sm glyphicon glyphicon-pencil" -->
																<!-- 															ng-click="rowform.$show()"></button> -->
																<button data-nodrag class="btn btn-sm glyphicon glyphicon-trash"
																	ng-click="removeRouleau($index)"></button>
															</div>
														</td>
													</tr>
												</tbody>
											</table>
											<!-- 									{{listeFeuilleSaisieFini}} -->
										</div>
									</div>
								</div>
							</div>
						</div>


						<!-- end Div des Observations -->




					</div>
				</div>
			</div>

			<!-- container Grid-->
			<div class="row" ng-show="displayMode != 'edit'">
				<div class="col-md-12">
					<div class="title-ajout line">Liste des Feuilles de Saisie</div>
					<div style="height: 500px;" ng-grid="gridOptions"></div>
				</div>
			</div>

			<!-- Popup de la suppression -->
			<div id="light" class="white_content">
				<pop-up type="delete-article"></pop-up>
			</div>
			<div id="fade" class="black_overlay"></div>
			<!-- Fin Popup de la suppression -->





		</div>




	</div>
</div>